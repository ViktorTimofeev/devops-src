# =============================================================================
# Конфигурационный файл для скрипта настройки Debian 12
# Автор: DevOps Expert Team
# Версия: 1.0
# Описание: Переменные окружения для настройки сервера
# =============================================================================

# Основные настройки
DEBIAN_VERSION="12"
SCRIPT_VERSION="1.0"
LOG_LEVEL="INFO"

# Настройки пользователя (будут запрошены интерактивно)
# ADMIN_USERNAME=""  # Будет запрошено при установке
# ADMIN_PASSWORD=""  # Будет запрошено при установке
ADMIN_SHELL="/bin/bash"
ADMIN_GROUPS="sudo"

# Настройки SSH
SSH_PORT="22"
SSH_PERMIT_ROOT="no"
SSH_PASSWORD_AUTH="yes"
SSH_PUBKEY_AUTH="yes"
SSH_MAX_AUTH_TRIES="3"
SSH_MAX_SESSIONS="3"
SSH_LOGIN_GRACE_TIME="60"

# Настройки файрвола
UFW_DEFAULT_INCOMING="deny"
UFW_DEFAULT_OUTGOING="allow"
UFW_ALLOW_PORTS="22,80,443"
UFW_DENY_PORTS=""

# Настройки fail2ban
FAIL2BAN_BANTIME="3600"
FAIL2BAN_FINDTIME="600"
FAIL2BAN_MAXRETRY="3"
FAIL2BAN_ENABLED_JAILS="sshd"

# Настройки автоматических обновлений
AUTO_UPDATE_ENABLED="true"
AUTO_REBOOT_ENABLED="false"
AUTO_REBOOT_TIME="02:00"
AUTO_CLEAN_INTERVAL="7"

# Настройки мониторинга
MONITOR_DISK_THRESHOLD="80"
MONITOR_MEMORY_THRESHOLD="80"
MONITOR_LOAD_THRESHOLD="2.0"
MONITOR_INTERVAL="5"

# Настройки резервного копирования
BACKUP_ENABLED="true"
BACKUP_DIR="/backup"
BACKUP_RETENTION_DAYS="7"
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_INCLUDE_DIRS="/etc,/home,/root,/var/log,/usr/local/bin"

# Настройки безопасности
SECURITY_SCAN_ENABLED="true"
ANTIVIRUS_ENABLED="true"
ROOTKIT_SCAN_ENABLED="true"
AUDIT_ENABLED="true"
APPARMOR_ENABLED="true"

# Настройки сети
NETWORK_SECURITY_ENABLED="true"
IP_FORWARDING="0"
ICMP_REDIRECTS="0"
SYN_COOKIES="1"
LOG_MARTIANS="1"

# Настройки времени
NTP_ENABLED="true"
NTP_SERVERS="0.pool.ntp.org,1.pool.ntp.org,2.pool.ntp.org,3.pool.ntp.org"

# Настройки логирования
LOG_ROTATION_ENABLED="true"
LOG_RETENTION_DAYS="30"
LOG_COMPRESSION="true"

# Настройки GitHub
GITHUB_REPO="your-username/your-repo"
GITHUB_BRANCH="main"
GITHUB_RAW_URL="https://raw.githubusercontent.com"

# Настройки уведомлений
NOTIFICATIONS_ENABLED="false"
NOTIFICATION_EMAIL=""
NOTIFICATION_WEBHOOK=""

# Дополнительные пакеты для установки
ADDITIONAL_PACKAGES="htop,tree,unzip,zip,rsync,net-tools,dnsutils,telnet,tcpdump"

# Пакеты безопасности
SECURITY_PACKAGES="fail2ban,ufw,aide,rkhunter,chkrootkit,clamav,clamav-daemon,auditd,apparmor,apparmor-utils"

# Службы для включения
ENABLE_SERVICES="ssh,ufw,fail2ban,auditd,apparmor,ntp,unattended-upgrades"

# Службы для отключения
DISABLE_SERVICES=""

# Настройки производительности
PERFORMANCE_TUNING="true"
TCP_OPTIMIZATION="true"
MEMORY_OPTIMIZATION="true"
DISK_OPTIMIZATION="true"

# Настройки разработки (опционально)
DEV_TOOLS_ENABLED="false"
DEV_PACKAGES="build-essential,git,vim,nano,curl,wget"

# Настройки веб-сервера (опционально)
WEB_SERVER_ENABLED="false"
WEB_SERVER_TYPE="nginx"
WEB_SERVER_PORTS="80,443"

# Настройки базы данных (опционально)
DATABASE_ENABLED="false"
DATABASE_TYPE="postgresql"
DATABASE_PORTS="5432"

# Настройки мониторинга (опционально)
MONITORING_ENABLED="false"
MONITORING_TYPE="prometheus"
MONITORING_PORTS="9090"

# Настройки контейнеризации (опционально)
CONTAINER_ENABLED="false"
CONTAINER_TYPE="docker"
CONTAINER_PORTS="2376"

# Настройки CI/CD (опционально)
CICD_ENABLED="false"
CICD_TYPE="jenkins"
CICD_PORTS="8080"

# Настройки бэкапа в облако (опционально)
CLOUD_BACKUP_ENABLED="false"
CLOUD_BACKUP_TYPE="aws-s3"
CLOUD_BACKUP_BUCKET=""

# Настройки SSL/TLS
SSL_ENABLED="false"
SSL_CERT_PATH="/etc/ssl/certs"
SSL_KEY_PATH="/etc/ssl/private"

# Настройки аутентификации
AUTH_TYPE="password"
AUTH_2FA_ENABLED="false"
AUTH_LDAP_ENABLED="false"

# Настройки файловой системы
FILESYSTEM_TYPE="ext4"
FILESYSTEM_OPTIONS="noatime,nodiratime"

# Настройки ядра
KERNEL_PARAMETERS=""
KERNEL_MODULES=""

# Настройки системных лимитов
SYSTEM_LIMITS_ENABLED="true"
MAX_OPEN_FILES="65536"
MAX_PROCESSES="32768"

# Настройки локализации
LOCALE="ru_RU.UTF-8"
TIMEZONE="Europe/Moscow"
KEYBOARD_LAYOUT="ru"

# Настройки обновлений ядра
KERNEL_UPDATES_ENABLED="true"
KERNEL_AUTO_REBOOT="false"

# Настройки тестирования
TEST_MODE="false"
DRY_RUN="false"
VERBOSE_OUTPUT="true"
